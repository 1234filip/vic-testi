{% extends 'main/base.html' %}

{% block content %}
<div class="modal" id="deleteModal">
  <div class="modal-background cancel-modal"></div>
  <div class="modal-content">
    <div class="card">
  <div class="card-content">
    <p>Ali si res želite izbrisati ta test?</p>
  </div>
  <footer class="card-footer">
        <button class="button is-danger card-footer-item" id="deleteModalButton">Izbriši test</button>
        <button class="cancel-modal button card-footer-item" id="cancelModalButton">Prekliči</button>
  </footer>
</div>
  </div>
  <button class="modal-close cancel-modal is-large" aria-label="close"></button>
</div>
<div class="test-info">
    <div class="has-text-left">
        <p><strong>Profesor: </strong> {{ test.professor}} ({{test.professor.subject}}) </p>
        {% if test.additional_note %}
        <p><strong>Opomba: </strong>{{test.additional_note}}</p>
        {% endif %}
    </div>
    <br class="line-break">
    <div class="has-text-right">
        <p><strong>Letnik: </strong> {{ test.year}}. letnik </p>
        <button class="button is-danger" id="deleteButton">Izbriši test</button>
    </div>
</div>
<div class="glide-container">
    <div class="glide">
        <div class="glide__track" data-glide-el="track">
            <ul class="glide__slides">
                {% for file in files %}
                    <li class="glide__slide"><img src="{{file}}" class=" gallery-image"></li>
                {% endfor %}
            </ul>
        </div>
        <div class="glide__arrows" data-glide-el="controls">
            <button class="glide__arrow glide__arrow--left" data-glide-dir="<"><i class="fas fa-4x fa-chevron-left"></i></button>
            <button class="glide__arrow glide__arrow--right" data-glide-dir=">"><i class="fas fa-4x fa-chevron-right"></i></button>
        </div>
        <div class="glide__bullets" data-glide-el="controls[nav]">
            {% for file in files %}
                <button class="glide__bullet" data-glide-dir="={{ forloop.counter0 }}"></button>
            {% endfor %}
            
        </div>
    </div>
</div>
<div  id="fileProgressContainer" class="columns is-centered" style="display: none;">
    <div class="column is-6">
        <p class="mb-0 mt-1" id="fileUploadText">Prenaša se datoteka... [1/4]</p>
        <progress data-desired="0" id="fileUploadBar" class="progress is-primary" value="0" max="100"></progress>
    </div>
</div>
    <div id="imageButtons" class="mt-3 buttons is-centered">
        <button id="openImageButton" class="button mx-3 is-black has-text-weight-light is-medium">Odpri sliko</button>
        <button id="downloadTestButton" class="button mx-3 is-black has-text-weight-light is-medium">Prenesi test</button>
        <button id="printTestButton" class="button mx-3 is-black has-text-weight-light is-medium">Sprintaj test</button>
    </div>

{% load static %}
<script src="{% static 'js/testDetail.bundle.js' %}"></script>
{% endblock content %}